(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6937"],{"1e6c":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container",staticStyle:{"text-align":"center"}},[n("div",[n("el-badge",{staticClass:"item",attrs:{value:t.length}},[n("el-button",{attrs:{type:"danger",icon:"el-icon-warning",circle:""}})],1)],1),t._v(" "),n("el-table",{attrs:{data:t.RealTimeException,stripe:"","default-sort":{prop:"time",order:"descending"}}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"地址",align:"center",prop:"address"}}),t._v(" "),n("el-table-column",{attrs:{label:"异常人数",align:"center",sortable:"",prop:"number"}}),t._v(" "),n("el-table-column",{attrs:{label:"时间",align:"center",sortable:"",prop:"time"}}),t._v(" "),n("el-table-column",{attrs:{label:"安保",align:"center",prop:"name"}}),t._v(" "),n("el-table-column",{attrs:{label:"安保电话",align:"center",prop:"phone"}}),t._v(" "),n("el-table-column",{attrs:{label:"处理完毕",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(n){return t.delToDoExceptions(e.row.tid)}}})]}}])})],1)],1)},a=[],o={data:function(){return{RealTimeException:[],length:"",timer_cur:"",DialogVisible:!1,isNotExceptionDeal:!0,input:""}},mounted:function(){this.getToDoExceptions(),this.timer_cur=setInterval(this.getRealTimeWarn,300)},beforeDestroy:function(){clearInterval(this.timer_cur)},methods:{getToDoExceptions:function(){var t=this;this.$axios.get("/to_do/").then(function(e){t.RealTimeException=e.data["to_do"],t.length=t.RealTimeException.length}).catch(function(t){})},getRealTimeWarn:function(){var t=this;console.log(this.$route.path),this.$axios.get("/is_new/").then(function(e){"true"===e.data["is_new"]?(t.$notify({title:"警告",message:"收到一条异常警告,请及时处理",duration:0,type:"warning"}),t.getToDoExceptions()):"true"===e.data["new_info"]&&t.getToDoExceptions()}).catch(function(t){})},delToDoExceptions:function(t){var e=this;this.$axios.get("/is_deal_exception/",{params:{tid:t}}).then(function(t){e.isNotExceptionDeal=!1,e.getToDoExceptions()}).catch(function(t){})}}},l=o,c=n("2877"),r=Object(c["a"])(l,i,a,!1,null,null,null);e["default"]=r.exports}}]);